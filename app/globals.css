@import 'tailwindcss';

/* Import Nextra theme styles */
@import 'nextra-theme-docs/style.css';

@variant dark (&:where(.dark *));

:root {
  --nextra-content-width: 90rem; /* 1440px max width for content */
}

/* Bruno-specific styling */
body {
  font-feature-settings:
    'rlig' 1,
    'calt' 1;
}

/* Add spacing between breadcrumb/navigation and page title */
article h1:first-child {
  margin-top: 1.5rem;
}

/* Make the copy page dropdown more opaque */
[data-headlessui-state],
[data-radix-popper-content-wrapper] > div,
[role="menu"],
[role="listbox"],
.nextra-menu,
div[class*="backdrop-blur"] {
  --tw-bg-opacity: 1 !important;
  background-color: rgb(255 255 255 / 100%) !important;
  backdrop-filter: blur(14px) saturate(150%) !important;
}

:is(.dark, .dark *) [data-headlessui-state],
:is(.dark, .dark *) [data-radix-popper-content-wrapper] > div,
:is(.dark, .dark *) [role="menu"],
:is(.dark, .dark *) [role="listbox"],
:is(.dark, .dark *) .nextra-menu,
:is(.dark, .dark *) div[class*="backdrop-blur"] {
  background-color: rgb(17 17 17 / 100%) !important;
}

/* Hide external link arrows in navbar only - not the GitHub/Discord icons */
.nextra-navbar nav > div a[href^="http"] > svg:not([aria-label]),
.nextra-navbar a[href^="http"]:has(span) > svg {
  display: none !important;
}

/* Hide desktop nav on mobile */
@media (max-width: 768px) {
  .desktop-nav {
    display: none !important;
  }
}

/* Add border to search box */
[data-pagefind-ui] input,
button[aria-label*="Search"],
.nextra-search input,
.nextra-search button,
input[placeholder*="Search"] {
  border: 1px solid #e5e7eb !important;
  border-radius: 0.5rem !important;
}

.dark [data-pagefind-ui] input,
.dark button[aria-label*="Search"],
.dark .nextra-search input,
.dark .nextra-search button,
.dark input[placeholder*="Search"] {
  border-color: #374151 !important;
}

/* Search results - highlighted/matched text (the search term) */
.nextra-search-results mark {
  color: #E89B2F !important;
  background-color: transparent !important;
}

/* Search results - section header (page title grouping) */
.nextra-search-results > ul > li > div:first-child {
  font-size: 0.7rem !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  color: #6b7280 !important;
  padding: 0.5rem 0 0.25rem 0 !important;
  border-bottom: 1px solid #e5e7eb !important;
  margin-bottom: 0.25rem !important;
}

.dark .nextra-search-results > ul > li > div:first-child {
  color: #9ca3af !important;
  border-bottom-color: #374151 !important;
}

/* Search results - title default state */
.nextra-search-results [class*="font-semibold"],
.nextra-search-results a > div:first-child {
  color: #1f2937 !important;
}

.dark .nextra-search-results [class*="font-semibold"],
.dark .nextra-search-results a > div:first-child {
  color: #e5e7eb !important;
}

/* Search results - title on hover */
.nextra-search-results a:hover [class*="font-semibold"],
.nextra-search-results a:hover > div:first-child {
  color: #E89B2F !important;
}

/* TOC (On This Page) - active item */
.nextra-toc a[aria-current="true"],
.nextra-toc li a.active,
.nextra-toc a[class*="text-primary"],
nav[aria-label="table of contents"] a[aria-current="true"] {
  color: #E89B2F !important;
}

/* Mobile nav - make completely opaque */
.nextra-mobile-nav {
  background-color: rgb(255 255 255) !important;
}

.dark .nextra-mobile-nav {
  background-color: rgb(17 17 17) !important;
}

/* Hide Nextra's default navbar on mobile, show custom mobile nav */
@media (max-width: 767px) {
  .nextra-navbar {
    display: none !important;
  }

  /* Add padding to account for fixed custom mobile nav */
  body {
    padding-top: 56px;
  }

  /* Adjust mobile nav position to account for custom nav */
  .nextra-mobile-nav {
    top: 56px !important;
    padding-top: 0 !important;
  }
}

/* Hide custom mobile nav on desktop */
@media (min-width: 768px) {
  .custom-mobile-nav {
    display: none !important;
  }
}

/* Discord icon brand color */
.nextra-navbar a[href*="discord"] svg {
  color: #5865F2 !important;
}
